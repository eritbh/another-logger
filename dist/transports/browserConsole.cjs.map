{"version":3,"file":"browserConsole.cjs","sources":["../../src/transports/browserConsole.ts"],"sourcesContent":["import {Transport} from \"../Logger\";\n\n/** A transport that logs messages to the browser console with a colored tag. */\nexport const browserConsole = (\n\t/** The color to use for messages from this transport */\n\tcolor: number = 0x000000,\n\t/** A label to use in place of the level name in the console */\n\tlabel: string | undefined = undefined,\n): Transport => {\n\tlet backgroundColor = `#${('000000' + color.toString(16)).slice(-6)}7F`;\n\tlet levelCss = `background-color: ${backgroundColor};`;\n\n\treturn function browserConsoleTransport (message, level) {\n\t\tconsole.log(\n\t\t\t// Initial section with CSS styling for the level name. We want some\n\t\t\t// horizontal padding around the level name in its little \"tag,\" but\n\t\t\t// we also want the tags to stand out if the log is copy-pasted or\n\t\t\t// saved to a file. We pad the sides of the level name with brackets\n\t\t\t// which we hide via CSS, leaving a visually clean interface in the\n\t\t\t// HTML console that magically turns into a bracketed level name\n\t\t\t// when saved/copied as plain text.\n\t\t\t`%c[%c${String(label ?? level)}%c]`, // String() to handle symbol level names\n\t\t\t// CSS style for the first hidden bracket\n\t\t\t`\n\t\t\t\t${levelCss}\n\t\t\t\tborder-top-left-radius: 3px;\n\t\t\t\tborder-bottom-left-radius: 3px;\n\t\t\t\tcolor: transparent;\n\t\t\t`,\n\t\t\t// CSS style for the level name\n\t\t\tlevelCss,\n\t\t\t// CSS style for the second hidden bracket\n\t\t\t`\n\t\t\t\t${levelCss}\n\t\t\t\tborder-top-right-radius: 3px;\n\t\t\t\tborder-bottom-right-radius: 3px;\n\t\t\t\tcolor: transparent;\n\t\t\t`,\n\t\t\t// The rest of the message will be unstyled\n\t\t\t// TODO: support parsing out `%c`s from the message and doing\n\t\t\t//       extra formatting to make the result equivalent to native\n\t\t\t...message,\n\t\t);\n\t}\n}\n"],"names":[],"mappings":";;;;AAEA;MACa,cAAc,GAAG;AAC7B;AACA,QAAgB,QAAQ;AACxB;AACA,QAA4B,SAAS;IAErC,IAAI,eAAe,GAAG,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;IACxE,IAAI,QAAQ,GAAG,qBAAqB,eAAe,GAAG,CAAC;IAEvD,OAAO,SAAS,uBAAuB,CAAE,OAAO,EAAE,KAAK;QACtD,OAAO,CAAC,GAAG;;;;;;;;QAQV,QAAQ,MAAM,CAAC,KAAK,IAAI,KAAK,CAAC,KAAK;;QAEnC;MACG,QAAQ;;;;IAIV;;QAED,QAAQ;;QAER;MACG,QAAQ;;;;IAIV;;;;QAID,GAAG,OAAO,CACV,CAAC;KACF,CAAA;AACF;;;;"}