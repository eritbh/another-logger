{"version":3,"file":"nodeConsole.mjs","sources":["../../src/transports/nodeConsole.ts"],"sourcesContent":["import { formatWithOptions, InspectOptions } from 'util';\nimport ansiColors from 'ansi-colors';\n\nimport { Transport } from '../Logger';\n\ntype StyleKey = keyof typeof ansiColors[\"styles\"];\n\n/** A transport that logs messages to the Node.js console. */\nexport const nodeConsole = (\n\tstyle: StyleKey | StyleKey[] = [],\n\tlabel: string | null = null,\n\tformatOptions: InspectOptions = {},\n): Transport => {\n\t// Use colored output unless explicitly disabled\n\tformatOptions = Object.assign({colors: true}, formatOptions);\n\n\tif (!Array.isArray(style)) style = [style];\n\n\treturn function nodeConsoleTransport (contents, levelName) {\n\t\tlet message = formatWithOptions(formatOptions, ...contents);\n\t\tlet levelText = label ?? String(levelName);\n\t\t(style as StyleKey[]).forEach(s => levelText = ansiColors[s](levelText));\n\t\tconsole.log(`${levelText} ${message}`);\n\t}\n}\n"],"names":[],"mappings":";;;AAOA;MACa,WAAW,GAAG,CAC1B,QAA+B,EAAE,EACjC,QAAuB,IAAI,EAC3B,gBAAgC,EAAE;;IAGlC,aAAa,GAAG,MAAM,CAAC,MAAM,CAAC,EAAC,MAAM,EAAE,IAAI,EAAC,EAAE,aAAa,CAAC,CAAC;IAE7D,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC;QAAE,KAAK,GAAG,CAAC,KAAK,CAAC,CAAC;IAE3C,OAAO,SAAS,oBAAoB,CAAE,QAAQ,EAAE,SAAS;QACxD,IAAI,OAAO,GAAG,iBAAiB,CAAC,aAAa,EAAE,GAAG,QAAQ,CAAC,CAAC;QAC5D,IAAI,SAAS,GAAG,KAAK,IAAI,MAAM,CAAC,SAAS,CAAC,CAAC;QAC1C,KAAoB,CAAC,OAAO,CAAC,CAAC,IAAI,SAAS,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;QACzE,OAAO,CAAC,GAAG,CAAC,GAAG,SAAS,IAAI,OAAO,EAAE,CAAC,CAAC;KACvC,CAAA;AACF;;;;"}